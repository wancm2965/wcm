/*-----------------------------------------------------------------------------------*/
/* ITU-T G.722.1 Fullband Extension Annex X. Source Code                             */
/* ?2008 Ericsson AB. and Polycom Inc.                                              */
/* All rights reserved.                                                              */
/*-----------------------------------------------------------------------------------*/

#include "../include/complxop.h"

float thren[39]={	/* Searching thresholds for quantization of norms */
110217.974940f, 77935.877489f,
55108.987470f,  38967.938744f,
27554.493735f,  19483.969372f,
13777.246868f,  9741.984686f,
6888.623434f,   4870.992343f,
3444.311717f,   2435.496172f,
1722.155858f,   1217.748086f,
861.077929f,    608.874043f,
430.538965f,    304.437021f,
215.269482f,    152.218511f,
107.634741f,    76.109255f,
53.817371f,     38.054628f,
26.908685f,     19.027314f,
13.454343f,     9.513657f,
6.727171f,      4.756828f,
3.363586f,      2.378414f,
1.681793f,      1.189207f,
0.840896f,      0.594604f,
0.420448f,      0.297302f,
0.210224f
};

float wscw16q15[] = {
-1.0f,   	-0.999939f,	-0.999878f,	-0.999725f,	-0.999573f,	-0.999359f,	-0.999084f,	-0.99881f,
-0.998444f,	-0.998077f,	-0.99765f,	-0.997162f,	-0.996643f,	-0.996094f,	-0.995514f,	-0.994873f,
-0.994171f,	-0.993439f,	-0.992676f,	-0.991852f,	-0.990997f,	-0.990112f,	-0.989166f,	-0.98819f,
-0.987183f,	-0.986115f,	-0.984985f,	-0.983856f,	-0.982666f,	-0.981415f,	-0.980133f,	-0.978821f,
-0.977448f,	-0.976074f,	-0.974609f,	-0.973114f,	-0.971588f,	-0.970032f,	-0.968414f,	-0.966766f,
-0.965088f,	-0.963348f,	-0.961548f,	-0.959747f,	-0.957886f,	-0.955994f,	-0.954041f,	-0.952057f,
-0.950043f,	-0.947968f,	-0.945862f,	-0.943726f,	-0.941559f,	-0.939331f,	-0.937042f,	-0.934753f,
-0.932404f,	-0.930023f,	-0.927582f,	-0.92514f,	-0.922607f,	-0.920074f,	-0.91748f,	-0.914886f,
-0.912201f,	-0.909515f,	-0.906769f,	-0.903992f,	-0.901184f,	-0.898315f,	-0.895416f,	-0.892487f,
-0.889526f,	-0.886505f,	-0.883453f,	-0.880371f,	-0.877258f,	-0.874084f,	-0.87088f,	-0.867645f,
-0.86438f,	-0.861084f,	-0.857727f,	-0.85434f,	-0.850922f,	-0.847473f,	-0.843964f,	-0.840454f,
-0.836884f,	-0.833282f,	-0.829651f,	-0.825989f,	-0.822266f,	-0.818512f,	-0.814758f,	-0.810944f,
-0.807098f,	-0.803223f,	-0.799286f,	-0.795349f,	-0.791351f,	-0.787354f,	-0.783295f,	-0.779205f,
-0.775085f,	-0.770935f,	-0.766754f,	-0.762512f,	-0.75827f,	-0.753998f,	-0.749664f,	-0.745331f,
-0.740936f,	-0.736542f,	-0.732086f,	-0.727631f,	-0.723114f,	-0.718567f,	-0.71402f,	-0.709412f,
0.704803f,	0.700134f,	0.695435f,	0.690735f,	0.685974f,	0.681213f,	0.676392f,	0.67157f,
0.666687f,	0.661804f,	0.656891f,	0.651947f,	0.646942f,	0.641937f,	0.636932f,	0.631866f,
0.62677f,	0.621674f,	0.616516f,	0.611359f,	0.606171f,	0.600952f,	0.595703f,	0.590424f,
0.585144f,	0.579803f,	0.574463f,	0.569092f,	0.563721f,	0.558289f,	0.552856f,	0.547394f,
0.541901f,	0.536377f,	0.530853f,	0.525299f,	0.519714f,	0.514099f,	0.508484f,	0.502838f,
0.497162f,	0.491486f,	0.485748f,	0.480042f,	0.474274f,	0.468506f,	0.462708f,	0.456909f,
0.45108f,	0.445221f,	0.439362f,	0.433472f,	0.427551f,	0.421631f,	0.41568f,	0.409729f,
0.403748f,	0.397736f,	0.391724f,	0.385712f,	0.379669f,	0.373596f,	0.367523f,	0.36142f,
0.355316f,	0.349182f,	0.343048f,	0.336884f,	0.330719f,	0.324524f,	0.318329f,	0.312134f,
0.305908f,	0.299652f,	0.293427f,	0.28714f,	0.280884f,	0.274597f,	0.26828f,	0.261993f,
0.255646f,	0.249329f,	0.242981f,	0.236633f,	0.230255f,	0.223877f,	0.217499f,	0.211121f,
0.204712f,	0.198303f,	0.191895f,	0.185455f,	0.179016f,	0.172577f,	0.166138f,	0.159668f,
0.153198f,	0.146729f,	0.140259f,	0.133759f,	0.127289f,	0.120789f,	0.114288f,	0.107788f,
0.101288f,	0.0947571f,	0.0882568f,	0.0817261f,	0.0751953f,	0.0686646f,	0.0621338f,	0.055603f,
0.0490723f,	0.0425415f,	0.0359802f,	0.0294495f,	0.0229187f,	0.0163574f,	0.00982666f,0.00326538f
};

short dic0[10][8] = {
{0,  0,  0,  0,  0,  0,  0,  1},
{1,  0,  0,  0,  0,  0,  0,  0},
{0,  0,  0,  0,  0,  0,  1,  1},
{1,  0,  0,  0,  0,  0,  0,  1},
{1,  1,  0,  0,  0,  0,  0,  0},
{0,  0,  0,  0,  0,  0,  1,  1},
{0,  0,  0,  0,  1,  1,  1,  1},
{0,  0,  1,  1,  1,  1,  1,  1},
{1,  1,  1,  1,  1,  1,  1,  1},
{0,  0,  0,  0,  0,  0,  0,  0},
};

short dic1[10][8] = {
{ 0,  0,  0,  0,  0,  0,  0, -2},
{ 2,  0,  0,  0,  0,  0,  0,  0},
{ 0,  0,  0,  0,  0,  0, -2, -2},
{ 2,  0,  0,  0,  0,  0,  0, -2},
{ 2,  2,  0,  0,  0,  0,  0,  0},
{ 1,  1,  1,  1,  1,  1, -1, -1},
{ 1,  1,  1,  1, -1, -1, -1, -1},
{ 1,  1, -1, -1, -1, -1, -1, -1},
{-1, -1, -1, -1, -1, -1, -1, -1},
{ 1,  1,  1,  1,  1,  1,  1,  1},
};

short dic2[10] = {
0, 8, 16, 44, 100, 128, 128, 128, 128, 128
};

short dic3[256] = {
127,  0,   1,   0,   2,   1,   7,   0,   3,   2,   8,   0,  13,   0,   0,  28,
4,    3,   9,   0,  14,   0,   0,  29,  18,   0,   0,  33,   0,  43,  88,   0,
5,    4,  10,   0,  15,   0,   0,  30,  19,   0,   0,  34,   0,  44,  89,   0,
22,   0,   0,  37,   0,  47,  95,   0,   0,  57,  85,   0,  75,   0,   0, 125,
6,    5,  11,   0,  16,   0,   0,  31,  20,   0,   0,  35,   0,  45,  90,   0,
23,   0,   0,  38,   0,  48,  96,   0,   0,  58,  86,   0,  76,   0,   0, 124,
25,   0,   0,  42,   0,  52,  94,   0,   0,  62,  84,   0,  74,   0,   0, 122,
0,   56,  81,   0,  71,   0,   0, 119,  67,   0,   0, 115,   0, 110, 104,   0,
7,    6,  12,   0,  17,   0,   0,  32,  21,   0,   0,  36,   0,  46,  91,   0,
24,   0,   0,  39,   0,  49,  97,   0,   0,  59,  87,   0,  77,   0,   0, 123,
26,   0,   0,  41,   0,  51,  93,   0,   0,  61,  83,   0,  73,   0,   0, 121,
0,   55,  80,   0,  70,   0,   0, 118,  66,   0,   0, 114,   0, 109, 103,   0,
27,   0,   0,  40,   0,  50,  92,   0,   0,  60,  82,   0,  72,   0,   0, 120,
0,   54,  79,   0,  69,   0,   0, 117,  65,   0,   0, 113,   0, 108, 102,   0,
0,   53,  78,   0,  68,   0,   0, 116,  64,   0,   0, 112,   0, 107, 101,   0,
63,   0,   0, 111,   0, 106, 100,   0,   0, 105,  99,   0,  98,   0,   0, 126
};

short huffnorm[32] = {
26, 58, 90, 122, 27, 59, 91, 123, 12, 28, 44,  60,  2,  6,  4,   6,
0,  2,  10,  14, 14, 30, 46,  62, 30, 62, 94, 126, 31, 63, 95, 127
};

short huffcoef[60] = {
0, 6, 7,  2,
0, 1, 9, 16, 17, 10, 11, 3,
0, 6, 6,  7, 20, 21, 22, 46, 47, 16, 17, 18, 19, 4, 5, 7,
0, 2, 8, 20, 21, 48, 49, 50,  51, 112, 113, 114, 115, 116, 117, 118, 
119, 120, 121, 122, 123, 124, 125, 63, 52, 53, 54, 55, 22, 23, 9, 3
};
